enable: true
displayindex: 40
displayname: KinoUkr
host: https://kinoukr.tv

movie_cats:
  - films
  - cartoons

serial_cats:
  - seriess
  - cartoon-series

catalog_key: Останні оновлення

menu:
  - categories:
      "[movie]Фільми": films
      "[tv]Серіали": seriess
      "[cartoons]Мультфільми": cartoons
      Мультсеріали: cartoon-series
    sort:
      Останні оновлення: default
    format:
      sort: |
        return page == 1 ? $"{cat}/" : $"{cat}/page/{page}/";

content:
  serial_regex: "(Серіал|Мультсеріал)"
  nodes: //div[@id='dle-content']/div[contains(@class,'short')]
  name:
    node: .//a[contains(@class,'short-title')]
  href:
    node: .//a[contains(@class,'short-title')]
    attribute: href
  image:
    node: .//div[contains(@class,'short-img')]//img
    attribute: src
  total_pages:
    node: //span[contains(@class,'navigation')]/a[last()]
  args:
    - name_arg: imdb_rating
      node: .//div[contains(@class,'m-imdb')]
    - name_arg: release_quality
      node: .//div[contains(@class,'m-qual')]

card_parse:
  name:
    node: //h1[@itemprop='name']
  original_name:
    node: //div[contains(@class,'foriginal')]
  image:
    node: //div[contains(@class,'fposter')]//img
    attribute: src
  year:
    node: //div[contains(@class,'sd-line')][span[text()='Рік:']]/a
  description:
    node: //div[@itemprop='description']

card_args:
  - name_arg: release_quality
    node: //div[contains(@class,'m-meta') and contains(@class,'m-qual')]
    format: |
      string q = Regex.Match(value.Trim(), " ([0-9]+p)$").Groups[1].Value;
      return string.IsNullOrEmpty(q) ? value : q;
  - name_arg: runtime
    node: //div[contains(@class,'sd-line')][span[text()='Тривалість:']]
    format: |
      var match = Regex.Match(value ?? string.Empty, "(\\d{1,2}):(\\d{2})(?::(\\d{2}))?");
      if (match.Success)
      {
        int hours = int.Parse(match.Groups[1].Value);
        int minutes = int.Parse(match.Groups[2].Value);
        int seconds = match.Groups[3].Success ? int.Parse(match.Groups[3].Value) : 0;
        return hours * 60 + minutes + (seconds >= 30 ? 1 : 0);
      }
      return int.TryParse(value?.Trim().Split(' ')[0], out var total) ? total : (int?)null;
  - name_arg: production_countries
    node: //div[contains(@class,'sd-line')][span[text()='Країна:']]//a
  - name_arg: genres
    node: //div[contains(@class,'sd-line')][span[text()='Жанр:']]//a
  - name_arg: imdb_rating
    node: //div[contains(@class,'m-meta') and contains(@class,'m-imdb')]


tmdb_injects:
  - default